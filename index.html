<!DOCTYPE html>
<!-- HTML5 Hello world by kirupa - http://www.kirupa.com/html5/getting_your_feet_wet_html5_pg1.htm -->
<html lang="en-us">
	<head>
		<meta charset="utf-8">
		<title>Priority TODO</title>
		<style type="text/css">
			.todo-container {
				display: flex;
				align-items: center;
				justify-content: center;
				margin: .75rem;
				color: white;
				cursor: pointer;
				text-align: center;
			}

			.todo {
				padding: 2rem;
				flex: 15;
				border-radius: .5rem 0 0 .5rem;
				font-size: 2rem;
			}

			.todo-action {
				flex: 1;
				border-radius: 0 .5rem .5rem 0;
				background-color: #636c72;
				font-size: 2rem;
				padding: 2rem;
				font-family: sans-serif;
			}

			.todo:hover, .todo-action:hover {
				opacity: 0.5;
			}
	
			.high-priority {
				background-color: #d9534f;
			}

			.medium-priority {
				background-color: #f0ad4e;
			}

			.low-priority {
				background-color: #5cb85c;
			}

			.add {
				max-width: 25%;
				border-radius: 5rem;
			}
			
			/* The side navigation menu */
			.sidenav {
			    height: 100%; /* 100% Full-height */
			    width: 0; /* 0 width - change this with JavaScript */
			    position: fixed; /* Stay in place */
			    z-index: 1; /* Stay on top */
			    top: 0;
			    left: 0;
			    background-color: white; /* Black*/
			    overflow-x: hidden; /* Disable horizontal scroll */
			    padding-top: 60px; /* Place content 60px from the top */
			    transition: 0.5s; /* 0.5 second transition effect to slide in the sidenav */
			}
		</style>
	</head>
	<body>
		<div id="view">
			<div id="app">
				<div class="todo-container" v-for="todo in sortedTodos">
					<div 
						class="todo" 
						v-bind:class="todo.priority_class"
						v-on:click="edit(todo)"
					>
						{{ todo.text }}
					</div>
					<div class="todo-action" v-on:click="remove(todo)">X</div>
				</div>
				<div class="todo-container">
					<!--<div class="new todo">-->
					<!--	<input>-->
					<!--	<select>-->
					<!--		<option value="high-priority">High priority</option>-->
					<!--		<option value="medium-priority">Medium priority</option>-->
					<!--		<option value="low-priority">Low priority</option>-->
					<!--<input date>-->
					<!--	</select>-->
					<!--</div>-->
					<div class="todo-action add" v-on:click="add">+</div>
				</div>
			</div>
		</div>

		<div id="mySidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  <a href="#">About</a>
  <a href="#">Services</a>
  <a href="#">Clients</a>
  <a href="#">Contact</a>
</div>

<!-- Use any element to open the sidenav -->
<!--<span onclick="openNav()">open</span>-->
		<script src="https://unpkg.com/vue/dist/vue.js"></script>
		<script>
		
		//  Vue.component('todo-item', {
        //   template: '\
        //     <li>\
        //       {{ title }}\
        //       <button v-on:click="$emit(\'remove\')">X</button>\
        //     </li>\
        //   ',
        //   props: ['title']
        // })
        // new Vue({
        //   el: '#todo-list-example',
        //   data: {
        //     newTodoText: '',
        //     todos: [
        //       'Do the dishes',
        //       'Take out the trash',
        //       'Mow the lawn'
        //     ]
        //   },
        //   methods: {
        //     addNewTodo: function () {
        //       this.todos.push(this.newTodoText)
        //       this.newTodoText = ''
        //     }
        //   }
        // })

			var PRIORITY_ENUM = ['high-priority', 'medium-priority', 'low-priority'];
			
			var app = new Vue({
			  el: '#app',
			  data: {
			  	todos: [
			  		{ id: 1, text: 'Test2', priority: 2 },
			  		{ id: 2, text: 'Test1', priority: 0 },
			  		{ id: 3, text: 'Test2', priority: 2 },
			  		{ id: 4, text: 'Test2', priority: 2 },
			  		{ id: 5, text: 'Test2', priority: 2 },
			  		{ id: 6, text: 'Test3', priority: 1 }
			  	]
			  },
			  computed: {
			  	sortedTodos() {
			  		return this.todos
				  		.sort((a, b) => {
				  			return a.priority - b.priority;
				  		})
				  		.map((todo) => {
				  			todo.priority_class = PRIORITY_ENUM[todo.priority];
				  			return todo;
				  		});
			  	}
			  },
			  methods: {
				add() {
					console.log('add');
				},
				edit(todo) {
					console.log('edit');
				},
				remove(todo) {
					this.todos.splice(this.todos.indexOf(todo), 1)
				}
			  }
			})
			
			/* Set the width of the side navigation to 250px */
function openNav() {
    document.getElementById("mySidenav").style.width = "100%";
}

/* Set the width of the side navigation to 0 */
function closeNav() {
    document.getElementById("mySidenav").style.width = "0";
}
		</script>

	</body>
</html>
